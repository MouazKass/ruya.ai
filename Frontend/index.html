<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pandemic Command Center v5</title>

    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://d3js.org/topojson.v3.min.js"></script>

    <!-- Linked CSS -->
    <link rel="stylesheet" href="./css/styles.css">
</head>

<body data-theme="night">

    <div id="container">

        <div id="left-sidebar">
            <div id="status-panel" class="glass-panel" title="Click for Detailed Disease Report">
                <div class="panel-header">
                    <span class="panel-title">Active Cases</span>
                    <span style="font-size: 1.2rem;">⤢</span>
                </div>
                <div class="status-main" id="status-count">---</div>
                <div class="status-sub" id="status-label">Global Aggregate</div>
            </div>

            <div id="rec-list" class="glass-panel">
                <div class="panel-header" style="justify-content: flex-start; margin-bottom: 12px;">
                    <span class="ai-indicator"></span>
                    <span class="panel-title">Live AI Analysis</span>
                </div>
                <div id="alerts-container">
                </div>
            </div>

            <div id="action-list" class="glass-panel">
                <div class="panel-title" style="margin-bottom:5px;">Recommended Actions</div>
                <div id="actions-container">
                </div>
            </div>
        </div>

        <div id="status-modal">
            <div class="modal-close" id="close-modal">×</div>
            <div style="border-bottom: 1px solid var(--text-secondary); padding-bottom: 15px; margin-bottom:10px;">
                <h1 style="margin:0; font-size:1.8rem;">Pathogen Analysis Report</h1>
                <span id="modal-region-name" style="color:var(--accent-color); font-weight:600;">Global View</span>
            </div>
            <div class="modal-grid">
                <div class="info-card">
                    <h3>Reported Symptoms</h3>
                    <div id="symptom-list"></div>
                </div>
                <div class="info-card">
                    <h3>Regional Transmission Risks</h3>
                    <div style="margin-bottom:10px; font-size:0.8rem; color:var(--text-secondary);">Top Vectors by
                        Volume:</div>
                    <div id="neighbor-list"></div>
                </div>
                <div class="info-card"
                    style="grid-column: span 2; display:flex; justify-content:space-around; align-items:center;">
                    <div style="text-align:center;">
                        <div style="font-size:0.8rem; color:var(--text-secondary); text-transform:uppercase;">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                                style="vertical-align:middle; margin-right:4px;">
                                <path
                                    d="M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z" />
                            </svg>
                            Air Traffic
                        </div>
                        <div style="font-size:2.5rem; font-weight:700; color:var(--warning-color);" id="metric-air">--
                        </div>
                    </div>
                    <div style="width:1px; height:50px; background:rgba(128,128,128,0.3);"></div>
                    <div style="text-align:center;">
                        <div style="font-size:0.8rem; color:var(--text-secondary); text-transform:uppercase;">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                                style="vertical-align:middle; margin-right:4px;">
                                <path
                                    d="M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1 .6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1" />
                                <path d="M19.38 20A11.6 11.6 0 0 0 21 14l-9-4-9 4c0 2.9.94 5.34 2.81 7.76" />
                                <path d="M19 13V7a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v6" />
                                <path d="M12 10v4" />
                                <path d="M12 2v3" />
                            </svg>
                            Maritime Traffic
                        </div>
                        <div style="font-size:2.5rem; font-weight:700; color:var(--accent-color);" id="metric-sea">--
                        </div>
                    </div>
                    <div style="width:1px; height:50px; background:rgba(128,128,128,0.3);"></div>
                    <div style="text-align:center;">
                        <div style="font-size:0.8rem; color:var(--text-secondary); text-transform:uppercase;">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                                style="vertical-align:middle; margin-right:4px;">
                                <path d="M10 17h4V5H2v12h3" />
                                <path d="M20 17h2v-3.34a4 4 0 0 0-1.17-2.83L19 9h-5v8h1" />
                                <circle cx="7.5" cy="17.5" r="2.5" />
                                <circle cx="17.5" cy="17.5" r="2.5" />
                            </svg>
                            Land Traffic
                        </div>
                        <div style="font-size:2.5rem; font-weight:700; color:var(--success-color);" id="metric-land">--
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="controls-area">
            <div id="btn-theme" class="icon-btn"><span id="theme-icon">☀</span></div>
            <div id="btn-reset" class="icon-btn"><span>⟲</span></div>
        </div>

        <div id="bottom-panel">
            <div class="country-header">
                <h2 id="dash-name">Select Location</h2>
                <p id="dash-sub">Global View</p>
            </div>
            <div class="stats-container">
                <div class="stat-item"><span class="stat-label" id="lbl-1">Population</span><span class="stat-value"
                        id="val-1">---</span></div>
                <div class="stat-item"><span class="stat-label" id="lbl-2">GDP (USD)</span><span class="stat-value"
                        id="val-2">---</span></div>
                <div class="stat-item"><span class="stat-label" id="lbl-3">Active Cases</span><span class="stat-value"
                        id="val-3">---</span></div>
                <div class="stat-item"><span class="stat-label" id="lbl-4">Risk Level</span><span class="stat-value"
                        id="val-4">---</span></div>
            </div>
        </div>

        <div id="map-wrapper"></div>
        <div id="tooltip"></div>

    </div>

    <!-- RIGHT SIDE NAVIGATION -->
    <nav class="side-nav" id="side-nav"></nav>

    <!-- Application Logic -->
    <script type="module" src="./js/app.js"></script>

</body>

</html>